<!DOCTYPE html>
<!-- saved from url=(0063)https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments -->
<html lang="en" data-mode="auto" data-theme="dark"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/">

    <title>Ad hoc shell environments — nix.dev  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="./Ad hoc shell environments — nix.dev documentation_files/theme.css" rel="stylesheet">
<link href="./Ad hoc shell environments — nix.dev documentation_files/bootstrap.css" rel="stylesheet">
<link href="./Ad hoc shell environments — nix.dev documentation_files/pydata-sphinx-theme.css" rel="stylesheet">

  
  <link href="./Ad hoc shell environments — nix.dev documentation_files/all.min.css" rel="stylesheet">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="https://nix.dev/_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin="" href="https://nix.dev/_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin="" href="https://nix.dev/_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="./Ad hoc shell environments — nix.dev documentation_files/pygments.css">
    <link rel="stylesheet" href="./Ad hoc shell environments — nix.dev documentation_files/sphinx-book-theme.css" type="text/css">
    <link rel="stylesheet" type="text/css" href="./Ad hoc shell environments — nix.dev documentation_files/copybutton.css">
    <link rel="stylesheet" type="text/css" href="./Ad hoc shell environments — nix.dev documentation_files/custom.css">
    <link rel="stylesheet" type="text/css" href="./Ad hoc shell environments — nix.dev documentation_files/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css">
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="./Ad hoc shell environments — nix.dev documentation_files/bootstrap.js">
<link rel="preload" as="script" href="./Ad hoc shell environments — nix.dev documentation_files/pydata-sphinx-theme.js">

    <script data-url_root="../../" id="documentation_options" src="./Ad hoc shell environments — nix.dev documentation_files/documentation_options.js"></script>
    <script src="./Ad hoc shell environments — nix.dev documentation_files/jquery.js"></script>
    <script src="./Ad hoc shell environments — nix.dev documentation_files/underscore.js"></script>
    <script src="./Ad hoc shell environments — nix.dev documentation_files/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="./Ad hoc shell environments — nix.dev documentation_files/doctools.js"></script>
    <script src="./Ad hoc shell environments — nix.dev documentation_files/sphinx_highlight.js"></script>
    <script src="./Ad hoc shell environments — nix.dev documentation_files/clipboard.min.js"></script>
    <script src="./Ad hoc shell environments — nix.dev documentation_files/copybutton.js"></script>
    <script src="./Ad hoc shell environments — nix.dev documentation_files/sphinx-book-theme.js"></script>
    <script src="./Ad hoc shell environments — nix.dev documentation_files/design-tabs.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tutorials/first-steps/ad-hoc-shell-environments';</script>
    <link rel="canonical" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments.html">
    <link rel="shortcut icon" href="https://nix.dev/_static/favicon.png">
    <link rel="index" title="Index" href="https://nix.dev/genindex.html">
    <link rel="search" title="Search" href="https://nix.dev/search.html">
    <link rel="next" title="Reproducible interpreted scripts" href="https://nix.dev/tutorials/first-steps/reproducible-scripts.html">
    <link rel="prev" title="First steps" href="https://nix.dev/tutorials/first-steps/index.html">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="" class="vsc-initialized">

  
  
  <a class="skip-link" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#main-content">Skip to main content</a>
  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center" action="https://nix.dev/search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search..." aria-label="Search..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar noprint">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar noprint">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><div class="logo">
  <a href="https://nix.dev/">
    <img src="./Ad hoc shell environments — nix.dev documentation_files/nix.svg" alt="">
    <span>nix.dev</span>
  </a>
</div>

<iframe src="./Ad hoc shell environments — nix.dev documentation_files/github-btn.html" frameborder="0" scrolling="0" width="170" height="30" title="GitHub"></iframe>

<p>Official documentation for getting things done with Nix.</p></div>
        <div class="sidebar-primary-item">
<form class="bd-search d-flex align-items-center" action="https://nix.dev/search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search..." aria-label="Search..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="https://nix.dev/install-nix">Install Nix</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="https://nix.dev/tutorials/">Tutorials</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active has-children"><a class="reference internal" href="https://nix.dev/tutorials/first-steps/">First steps</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l3 current active"><a class="current reference internal" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#">Ad hoc shell environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="https://nix.dev/tutorials/first-steps/reproducible-scripts">Reproducible interpreted scripts</a></li>
<li class="toctree-l3"><a class="reference internal" href="https://nix.dev/tutorials/first-steps/declarative-shell">Declarative shell environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="https://nix.dev/tutorials/first-steps/towards-reproducibility-pinning-nixpkgs">Towards reproducibility: pinning Nixpkgs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="https://nix.dev/tutorials/nix-language">Nix language basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="https://nix.dev/tutorials/packaging-existing-software">Packaging existing software</a></li>
<li class="toctree-l2"><a class="reference internal" href="https://nix.dev/tutorials/callpackage">Package parameters and overrides with <code class="docutils literal notranslate"><span class="pre">callPackage</span></code></a></li>

<li class="toctree-l2"><a class="reference internal" href="https://nix.dev/tutorials/working-with-local-files">Working with local files</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="https://nix.dev/tutorials/nixos/">NixOS</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="https://nix.dev/tutorials/nixos/nixos-configuration-on-vm">NixOS virtual machines</a></li>
<li class="toctree-l3"><a class="reference internal" href="https://nix.dev/tutorials/nixos/integration-testing-using-virtual-machines">Integration testing with NixOS virtual machines</a></li>
<li class="toctree-l3"><a class="reference internal" href="https://nix.dev/tutorials/nixos/building-bootable-iso-image">Building a bootable ISO image</a></li>
<li class="toctree-l3"><a class="reference internal" href="https://nix.dev/tutorials/nixos/installing-nixos-on-a-raspberry-pi">Installing NixOS on a Raspberry Pi</a></li>
<li class="toctree-l3"><a class="reference internal" href="https://nix.dev/tutorials/nixos/continuous-integration-github-actions">Continuous integration with GitHub Actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="https://nix.dev/tutorials/nixos/building-and-running-docker-images">Building and running Docker images</a></li>
<li class="toctree-l3"><a class="reference internal" href="https://nix.dev/tutorials/nixos/deploying-nixos-using-terraform">Deploying NixOS using Terraform</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="https://nix.dev/tutorials/cross-compilation">Cross compilation</a></li>
<li class="toctree-l2"><a class="reference internal" href="https://nix.dev/tutorials/module-system/module-system">Module system deep dive</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="https://nix.dev/guides/">Guides</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="https://nix.dev/guides/recipes/">Recipes</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="https://nix.dev/guides/recipes/direnv">Automatic environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="https://nix.dev/guides/recipes/sharing-dependencies">Dependencies in the development shell</a></li>
<li class="toctree-l3"><a class="reference internal" href="https://nix.dev/guides/recipes/dependency-management">Automatically managing remote sources with niv</a></li>
<li class="toctree-l3"><a class="reference internal" href="https://nix.dev/guides/recipes/python-environment">Python development environment</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="https://nix.dev/guides/best-practices">Best practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="https://nix.dev/guides/troubleshooting">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="https://nix.dev/guides/faq">Frequently Asked Questions</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="https://nix.dev/reference/">Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="https://nix.dev/reference/glossary">Glossary</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="https://nix.dev/reference/nix-manual">Nix reference manual</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference external" href="https://hydra.nixos.org/job/nix/master/build.x86_64-linux/latest/download">Nix pre-release (development)</a></li>
<li class="toctree-l3"><a class="reference external" href="https://nix.dev/manual/nix/2.19/">Nix 2.19 (latest)</a></li>
<li class="toctree-l3"><a class="reference external" href="https://nix.dev/manual/nix/2.18/">Nix 2.18 (rolling)</a></li>
<li class="toctree-l3"><a class="reference external" href="https://nix.dev/manual/nix/2.18/">Nix 2.18 (stable 23.11)</a></li>
<li class="toctree-l3"><a class="reference external" href="https://nix.dev/manual/nix/2.13/">Nix 2.13 (stable 23.05)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference external" href="https://nixos.org/manual/nixpkgs/stable/">Nixpkgs manual</a></li>
<li class="toctree-l2"><a class="reference external" href="https://nixos.org/manual/nixos/stable/">NixOS manual</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/nix-community/">Community projects</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/nix-community/awesome-nix">Support tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="https://nix.dev/recommended-reading">Further reading</a></li>
<li class="toctree-l2"><a class="reference internal" href="https://nix.dev/reference/pinning-nixpkgs">Pinning Nixpkgs</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="https://nix.dev/concepts/">Concepts</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="https://nix.dev/concepts/flakes">Flakes</a></li>
<li class="toctree-l2"><a class="reference internal" href="https://nix.dev/concepts/faq">Frequently Asked Questions</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="https://nix.dev/contributing/">Contributing</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="https://nix.dev/contributing/how-to-contribute">How to contribute</a></li>
<li class="toctree-l2"><a class="reference internal" href="https://nix.dev/contributing/how-to-get-help">How to get help</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="https://nix.dev/contributing/documentation/">Contributing documentation</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="https://nix.dev/contributing/documentation/diataxis">Documentation framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="https://nix.dev/contributing/documentation/style-guide">Style guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="https://nix.dev/contributing/documentation/writing-a-tutorial">How to write a tutorial</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="https://nix.dev/acknowledgments/">Acknowledgements</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="https://nix.dev/acknowledgments/sponsors">Sponsors</a></li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article noprint">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" data-bs-placement="bottom" data-bs-toggle="tooltip" aria-label="Toggle primary sidebar" data-bs-original-title="Toggle primary sidebar">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/nixos/nix.dev" target="_blank" class="btn btn-sm btn-source-repository-button dropdown-item" data-bs-placement="left" data-bs-toggle="tooltip" data-bs-original-title="Source repository">
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/nixos/nix.dev/edit/master/source/tutorials/first-steps/ad-hoc-shell-environments.md" target="_blank" class="btn btn-sm btn-source-edit-button dropdown-item" data-bs-placement="left" data-bs-toggle="tooltip" data-bs-original-title="Suggest edit">
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/nixos/nix.dev/issues/new?title=Issue%20on%20page%20%2Ftutorials/first-steps/ad-hoc-shell-environments.html&amp;body=Your%20issue%20content%20here." target="_blank" class="btn btn-sm btn-source-issues-button dropdown-item" data-bs-placement="left" data-bs-toggle="tooltip" data-bs-original-title="Open an issue">
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://nix.dev/_sources/tutorials/first-steps/ad-hoc-shell-environments.md" target="_blank" class="btn btn-sm btn-download-source-button dropdown-item" data-bs-placement="left" data-bs-toggle="tooltip" data-bs-original-title="Download source file">
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()" class="btn btn-sm btn-download-pdf-button dropdown-item" data-bs-placement="left" data-bs-toggle="tooltip" data-bs-original-title="Print to PDF">
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()" class="btn btn-sm btn-fullscreen-button" data-bs-placement="bottom" data-bs-toggle="tooltip" aria-label="Fullscreen mode" data-bs-original-title="Fullscreen mode">
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip" data-bs-original-title="light/dark">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
  <button class="btn btn-sm navbar-btn search-button search-button__button" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip" data-bs-original-title="Search">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>

<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary" data-bs-placement="bottom" data-bs-toggle="tooltip" aria-label="Toggle secondary sidebar" data-bs-original-title="Toggle secondary sidebar">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Ad hoc shell environments</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#create-a-shell-environment">Create a shell environment</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#running-programs-once">Running programs once</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#search-for-packages">Search for packages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#run-any-combination-of-programs">Run any combination of programs</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#check-package-versions">Check package versions</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#nested-shell-sessions">Nested shell sessions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#towards-reproducibility">Towards reproducibility</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#references">References</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#next-steps">Next steps</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="ad-hoc-shell-environments">
<span id="ad-hoc-envs"></span><h1>Ad hoc shell environments<a class="headerlink" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#ad-hoc-shell-environments" title="Permalink to this heading">#</a></h1>
<p>In a Nix shell environment, you can immediately use any program packaged with Nix, without installing it permanently.</p>
<p>You can also share the command invoking such a shell with others, and it will work on all Linux distributions, WSL, and macOS<a class="footnote-reference brackets" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#id3" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<section id="create-a-shell-environment">
<h2>Create a shell environment<a class="headerlink" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#create-a-shell-environment" title="Permalink to this heading">#</a></h2>
<p>Once you <a class="reference internal" href="https://nix.dev/install-nix#install-nix"><span class="std std-ref">install Nix</span></a>, you can use it to create new <em>shell environments</em> with programs that you want to use.</p>
<p>In this section you will run two exotic programs called <code class="docutils literal notranslate"><span class="pre">cowsay</span></code> and <code class="docutils literal notranslate"><span class="pre">lolcat</span></code> that you will probably not have installed on your machine:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre id="codecell0"><span></span><span class="gp">$ </span>cowsay<span class="w"> </span>no<span class="w"> </span>can<span class="w"> </span><span class="k">do</span>
<span class="go">The program ‘cowsay’ is currently not installed.</span>

<span class="gp">$ </span><span class="nb">echo</span><span class="w"> </span>no<span class="w"> </span>chance<span class="w"> </span><span class="p">|</span><span class="w"> </span>lolcat
<span class="go">The program ‘lolcat’ is currently not installed.</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell0">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p>Use <code class="docutils literal notranslate"><span class="pre">nix-shell</span></code> with the <code class="docutils literal notranslate"><span class="pre">-p</span></code> (<code class="docutils literal notranslate"><span class="pre">--packages</span></code>) option to specify that we need the <code class="docutils literal notranslate"><span class="pre">cowsay</span></code> and <code class="docutils literal notranslate"><span class="pre">lolcat</span></code> packages.
The first invocation of <code class="docutils literal notranslate"><span class="pre">nix-shell</span></code> may take a while to download all dependencies.</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre id="codecell1"><span></span><span class="gp">$ </span>nix-shell<span class="w"> </span>-p<span class="w"> </span>cowsay<span class="w"> </span>lolcat
<span class="go">these 3 derivations will be built:</span>
<span class="go">  /nix/store/zx1j8gchgwzfjn7sr4r8yxb7a0afkjdg-builder.pl.drv</span>
<span class="go">  /nix/store/h9sbaa2k8ivnihw2czhl5b58k0f7fsfh-lolcat-100.0.1.drv</span>
<span class="go">  ...</span>

<span class="gp">[nix-shell:~]$</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell1">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p>Within the Nix shell, you can use the programs provided by these packages:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre id="codecell2"><span></span>[nix-shell:~]$ cowsay Hello, Nix! | lolcat
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell2">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p>Type <code class="docutils literal notranslate"><span class="pre">exit</span></code> or press <code class="docutils literal notranslate"><span class="pre">CTRL-D</span></code> to exit the shell, and the programs won’t be available anymore.</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre id="codecell3"><span></span><span class="gp">[nix-shell:~]$ </span><span class="nb">exit</span>
<span class="go">exit</span>

<span class="gp">$ </span>cowsay<span class="w"> </span>no<span class="w"> </span>more
<span class="go">The program ‘cowsay’ is currently not installed.</span>

<span class="gp">$ </span><span class="nb">echo</span><span class="w"> </span>all<span class="w"> </span>gone<span class="w"> </span><span class="p">|</span><span class="w"> </span>lolcat
<span class="go">The program ‘lolcat’ is currently not installed.</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell3">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</section>
<section id="running-programs-once">
<h2>Running programs once<a class="headerlink" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#running-programs-once" title="Permalink to this heading">#</a></h2>
<p>You can go even faster, by running any program directly:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre id="codecell4"><span></span><span class="gp">$ </span>nix-shell<span class="w"> </span>-p<span class="w"> </span>cowsay<span class="w"> </span>--run<span class="w"> </span><span class="s2">"cowsay Nix"</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell4">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p>If the command consists only of the program name, no quotes are needed:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre id="codecell5"><span></span><span class="gp">$ </span>nix-shell<span class="w"> </span>-p<span class="w"> </span>hello<span class="w"> </span>--run<span class="w"> </span>hello
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell5">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</section>
<section id="search-for-packages">
<h2>Search for packages<a class="headerlink" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#search-for-packages" title="Permalink to this heading">#</a></h2>
<p>What can you put in a shell environment?
If you can think of it, there’s probably a Nix package of it.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Enter the program name you want to run in <a class="reference external" href="https://search.nixos.org/packages">search.nixos.org</a> to find packages that provide it.</p>
</div>
<p>For the following example, find the package names for these programs:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">git</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nvim</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">npm</span></code></p></li>
</ul>
<p>In the search results, each item shows the package name, and the details list the available programs.<a class="footnote-reference brackets" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#id4" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a></p>
</section>
<section id="run-any-combination-of-programs">
<span id="run-any-program"></span><h2>Run any combination of programs<a class="headerlink" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#run-any-combination-of-programs" title="Permalink to this heading">#</a></h2>
<p>Once you have the package name, you can start a shell with that package.
The <code class="docutils literal notranslate"><span class="pre">-p</span></code> (<code class="docutils literal notranslate"><span class="pre">--packages</span></code>) argument can take multiple package names.</p>
<p>Start a Nix shell with the packages providing <code class="docutils literal notranslate"><span class="pre">git</span></code>, <code class="docutils literal notranslate"><span class="pre">nvim</span></code>, and <code class="docutils literal notranslate"><span class="pre">npm</span></code>.
Again, the first invocation may take a while to download all dependencies.</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre id="codecell6"><span></span><span class="gp">$ </span>nix-shell<span class="w"> </span>-p<span class="w"> </span>git<span class="w"> </span>neovim<span class="w"> </span>nodejs
<span class="go">these 9 derivations will be built:</span>
<span class="go">  /nix/store/7gz8jyn99kw4k74bgm4qp6z487l5ap06-packdir-start.drv</span>
<span class="go">  /nix/store/d6fkgxc3b04m85wrhg6j0l5y0ray82l7-packdir-opt.drv</span>
<span class="go">  /nix/store/da6njv7r0zzc2n54n2j54g2a5sbi4a5i-manifest.vim.drv</span>
<span class="go">  /nix/store/zs4jb2ybr4rcyzwq0dagg9rlhlc368h6-builder.pl.drv</span>
<span class="go">  /nix/store/g8sl2xnsshfrz9f39ki94k8p15vp3xd7-vim-pack-dir.drv</span>
<span class="go">  /nix/store/jmxkg8b1psk52awsvfziy9nq6dwmxmjp-luajit-2.1.0-2022-10-04-env.drv</span>
<span class="go">  /nix/store/kn83q8yk6ds74zgyklrjhvv5wkv5wmch-python3-3.10.9-env.drv</span>
<span class="go">  /nix/store/m445wn3vizcgg7syna2cdkkws3kk1gq8-neovim-ruby-env.drv</span>
<span class="go">  /nix/store/r2wa882mw99c311a4my7hcis9lq3kp3v-neovim-0.8.1.drv</span>
<span class="go">these 151 paths will be fetched (186.43 MiB download, 1018.20 MiB unpacked):</span>
<span class="go">  /nix/store/046zxlxhq4srm3ggafkymx794bn1jksc-bzip2-1.0.8</span>
<span class="go">  /nix/store/0p1jxcb7b4p8jhhlf8qnjc4cqwy89460-unibilium-2.1.1</span>
<span class="go">  /nix/store/0q4fpnqmg8liqraj7zidylcyd062f6z0-perl5.36.0-URI-5.05</span>
<span class="go">  ...</span>

<span class="gp">[nix-shell:~]$</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell6">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<section id="check-package-versions">
<span id="check-package-version"></span><h3>Check package versions<a class="headerlink" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#check-package-versions" title="Permalink to this heading">#</a></h3>
<p>Check that you have indeed the specific version of these programs provided by Nix, even if you had any of them already installed on your machine.</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre id="codecell7"><span></span><span class="gp">[nix-shell:~]$ </span>which<span class="w"> </span>git
<span class="go">/nix/store/3cdi52xh6lk3h1fb51jkxs3p561p37wg-git-2.38.3/bin/git</span>

<span class="gp">[nix-shell:~]$ </span>git<span class="w"> </span>--version
<span class="go">git version 2.38.3</span>

<span class="gp">[nix-shell:~]$ </span>which<span class="w"> </span>nvim
<span class="go">/nix/store/ynskzgkf07lmrrs3cl2kzr9ah487lwab-neovim-0.8.1/bin/nvim</span>

<span class="gp">[nix-shell:~]$ </span>nvim<span class="w"> </span>--version<span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-1
<span class="go">NVIM v0.8.1</span>

<span class="gp">[nix-shell:~]$ </span>which<span class="w"> </span>npm
<span class="go">/nix/store/q12w83z0i5pi1y0m6am7qmw1r73228sh-nodejs-18.12.1/bin/npm</span>

<span class="gp">[nix-shell:~]$ </span>npm<span class="w"> </span>--version
<span class="go">8.19.2</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell7">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</section>
</section>
<section id="nested-shell-sessions">
<h2>Nested shell sessions<a class="headerlink" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#nested-shell-sessions" title="Permalink to this heading">#</a></h2>
<p>If you need an additional program temporarily, you can run a nested Nix shell.
The programs provided by the specified packages will be added to the current environment.</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre id="codecell8"><span></span><span class="gp">[nix-shell:~]$ </span>nix-shell<span class="w"> </span>-p<span class="w"> </span>python3
<span class="go">this path will be fetched (11.42 MiB download, 62.64 MiB unpacked):</span>
<span class="go">  /nix/store/pwy30a7siqrkki9r7xd1lksyv9fg4l1r-python3-3.10.11</span>
<span class="go">copying path '/nix/store/pwy30a7siqrkki9r7xd1lksyv9fg4l1r-python3-3.10.11' from 'https://cache.nixos.org'...</span>

<span class="gp">[nix-shell:~]$ </span>python<span class="w"> </span>--version
<span class="go">Python 3.10.11</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell8">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p>Exit the shell as usual to return to the previous environment.</p>
</section>
<section id="towards-reproducibility">
<h2>Towards reproducibility<a class="headerlink" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#towards-reproducibility" title="Permalink to this heading">#</a></h2>
<p>These shell environments are very convenient, but the examples so far are not reproducible yet.
Running these commands on another machine may fetch different versions of packages, depending on when Nix was installed there.</p>
<p>What do we mean by reproducible?
A fully reproducible example would give exactly the same results no matter when or where you run the command.
The environment provided would be identical each time.</p>
<p>The following example creates a fully reproducible environment.
You can run it anywhere, anytime to obtain the exact same version of the <code class="docutils literal notranslate"><span class="pre">git</span></code>.</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre id="codecell9"><span></span><span class="gp">$ </span>nix-shell<span class="w"> </span>-p<span class="w"> </span>git<span class="w"> </span>--run<span class="w"> </span><span class="s2">"git --version"</span><span class="w"> </span>--pure<span class="w"> </span>-I<span class="w"> </span><span class="nv">nixpkgs</span><span class="o">=</span>https://github.com/NixOS/nixpkgs/archive/2a601aafdc5605a5133a2ca506a34a3a73377247.tar.gz
<span class="go">...</span>
<span class="go">git version 2.33.1</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell9">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p>There are three things going on here:</p>
<ol class="arabic">
<li><p><code class="docutils literal notranslate"><span class="pre">--run</span></code> executes the given <a class="reference external" href="https://www.gnu.org/software/bash/">Bash</a> command within the Nix shell and exits when it’s done.</p>
<p>You can use this with <code class="docutils literal notranslate"><span class="pre">nix-shell</span></code> whenever you want to quickly run a program you don’t have installed on your machine.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--pure</span></code> discards most environment variables set on your system when running the shell.</p>
<p>It means that only the <code class="docutils literal notranslate"><span class="pre">git</span></code> provided by Nix is available inside that shell.
This is useful for simple one-liners such as in the example.
While developing, however, you will usually want to have your editor and other tools around.
Therefore we recommend to omit <code class="docutils literal notranslate"><span class="pre">--pure</span></code> for development environments, and to add it only when the extra isolation is needed.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">-I</span></code> determines what to use as a source of package declarations.</p>
<p>Here we provided <a class="reference external" href="https://github.com/NixOS/nixpkgs/tree/2a601aafdc5605a5133a2ca506a34a3a73377247">a specific Git revision of <code class="docutils literal notranslate"><span class="pre">nixpkgs</span></code></a>, leaving no doubt about which version of the packages in that collection will be used.</p>
</li>
</ol>
</section>
<section id="references">
<h2>References<a class="headerlink" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#references" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://nix.dev/manual/nix/2.18/command-ref/nix-shell">Nix manual: <code class="docutils literal notranslate"><span class="pre">nix-shell</span></code></a> (or run <code class="docutils literal notranslate"><span class="pre">man</span> <span class="pre">nix-shell</span></code>)</p></li>
<li><p><a class="reference external" href="https://nix.dev/manual/nix/2.18/command-ref/opt-common#opt-I">Nix manual: <code class="docutils literal notranslate"><span class="pre">-I</span></code> option</a></p></li>
</ul>
</section>
<section id="next-steps">
<h2>Next steps<a class="headerlink" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#next-steps" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="https://nix.dev/tutorials/first-steps/reproducible-scripts#reproducible-scripts"><span class="std std-ref">Reproducible interpreted scripts</span></a> – use Nix for reproducible scripts</p></li>
<li><p><a class="reference internal" href="https://nix.dev/tutorials/nix-language#reading-nix-language"><span class="std std-ref">Nix language basics</span></a> – learn reading the Nix language, which is used to declare packages and configurations</p></li>
<li><p><a class="reference internal" href="https://nix.dev/tutorials/first-steps/declarative-shell#declarative-reproducible-envs"><span class="std std-ref">Declarative shell environments with shell.nix</span></a> – create reproducible shell environments with a declarative configuration file</p></li>
<li><p><a class="reference internal" href="https://nix.dev/tutorials/first-steps/towards-reproducibility-pinning-nixpkgs#pinning-nixpkgs"><span class="std std-ref">Towards reproducibility: pinning Nixpkgs</span></a> – learn different ways of specifying exact versions of package sources</p></li>
</ul>
<p>If you’re done trying out Nix for now, you may want to free up some disk space occupied by the different versions of programs you downloaded by running the examples:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre id="codecell10"><span></span><span class="gp">$ </span>nix-collect-garbage
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell10">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<hr class="footnotes docutils">
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id3" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#id1">1</a><span class="fn-bracket">]</span></span>
<p>Not all packages are supported for both Linux and macOS. Especially support for graphical programs may vary.</p>
</aside>
<aside class="footnote brackets" id="id4" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#id2">2</a><span class="fn-bracket">]</span></span>
<p>A package name is not the same as a program name. Many packages provide multiple programs, or no programs at all if they are libraries. Even for packages that provide exactly one program, the package and program name are not necessarily the same.</p>
</aside>
</aside>
</section>
</section>


                </article>
              

              
              
                <footer class="bd-footer-article noprint">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev" href="https://nix.dev/tutorials/first-steps/" title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">First steps</p>
      </div>
    </a>
    <a class="right-next" href="https://nix.dev/tutorials/first-steps/reproducible-scripts" title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Reproducible interpreted scripts</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc noprint"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#create-a-shell-environment">Create a shell environment</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#running-programs-once">Running programs once</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#search-for-packages">Search for packages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#run-any-combination-of-programs">Run any combination of programs</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#check-package-versions">Check package versions</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#nested-shell-sessions">Nested shell sessions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#towards-reproducibility">Towards reproducibility</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#references">References</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="https://nix.dev/tutorials/first-steps/ad-hoc-shell-environments#next-steps">Next steps</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content noprint">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By the <a href="https://nixos.org/community/teams/documentation">Nix documentation team</a> and contributors.
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2016-2024, NixOS Foundation.
      <br>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="./Ad hoc shell environments — nix.dev documentation_files/bootstrap.js"></script>
<script src="./Ad hoc shell environments — nix.dev documentation_files/pydata-sphinx-theme.js"></script>

  <footer class="bd-footer noprint">
  </footer>
  
</body></html>